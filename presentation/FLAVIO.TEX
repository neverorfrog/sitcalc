
\begin{frame}{The Problem}
    \begin{itemize}
        \item A robot has to manage \textbf{n plants} in a garden.
        \item The robot performs an action on one plant at a time and only if it's near the plant.
        \item A plant can be watered only if it is dry and the temperature is known.
        \item The robot has access to a watering can that is full and has unlimited capacity.
        \item The robot can hold only one object at a time.
    \end{itemize}
\end{frame}

\subsection{Axiomatization}

\begin{frame}[fragile]{(Non)Fluents}
    \vspace*{-0.5cm}
    \begin{block}{Fluents}
        \begin{itemize}
            \item $\textsc{Near}(x,s) \rightarrow$ Robot is near object x in situation s
            \item $\textsc{Holding}(x,s) \rightarrow$ Robot is holding object x in situation s
            \item $\textsc{Moist}(p,s) \rightarrow$ Plant p is moist in situation s
            \item $\textsc{Temperature}(p) \rightarrow$ Temperature value of the spot near plant p
            % \item $\textsc{Infested}(p,s) \rightarrow$ Plant p is infested in situation s
            \item $\textsc{HealthyPlants}(s) \rightarrow$ Number of healthy plants
        \end{itemize}
    \end{block}
    \begin{block}{Non-Fluents}
        \begin{itemize}
            \item $\textsc{WateringCan}(x) \rightarrow $ Object x is a watering can
            \item $\textsc{Thermometer}(x) \rightarrow $ Object x is a thermometer
            \item $\textsc{Moisturemeter}(x) \rightarrow $ Object x is a moisturemeter
            % \item $\textsc{Treatment}(x) \rightarrow $ Object x is a treatment
            % \item $\textsc{Plant}(x) \rightarrow$ Object x is a plant
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Actions}
    \vspace*{-0.5cm}
    \begin{block}{Normal}
        \begin{itemize}
            \item $\textsc{goto}(x) \rightarrow$ Go to object x
            \item $\textsc{water}(p) \rightarrow$ Water plant p
            % \item $\textsc{treat}(p) \rightarrow$ Treat plant p
            \item $\textsc{pickup}(x) \rightarrow$ Pick up object x
            \item $\textsc{putdown}(x) \rightarrow$ Put down object x
        \end{itemize}
    \end{block}
    \begin{block}{Knowledge}
        \begin{itemize}
            \item $\textsc{checkmoisture}(p) \rightarrow$ Check moisture of plant p
            \item $\textsc{checktemperature}(p) \rightarrow$ Check the temperature of the spot near plant p
            % \item $\textsc{checkinfestation}(p) \rightarrow$ Check infestation of plant p
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Effects}
    \vspace*{-0.5cm}
    \begin{block}{Sensing Result Axioms}
        \begin{itemize}
            \item $\textsc{sr}(\textsc{goto}(x),s) = r\equiv r = "OK"$
            \item $\textsc{sr}(\textsc{checkmoisture}(p),s) = r \equiv (r = "YES" \land \textsc{Moist}(p,s)) \lor (r = "NO" \land \neg \textsc{Moist}(p,s))$
            % It specifies that after doing the checkmoisture(p) action, the agent knows whether or not p is moist.
            \item $\textsc{sr}(\textsc{checktemperature}(p),s) = r \equiv r = \textsc{Temperature}(p,s)$
        \end{itemize}
    \end{block}
    \begin{block}{Knowledge Action Effects}
        \begin{itemize}
            \item \textbf{Kwhether}$(\textsc{Moist}(p,s), \textsc{do}(\textsc{checkmoisture}(p),s))$
            \item \textbf{Kref}$(\textsc{Temperature}(p), \textsc{do}(\textsc{checktemperature}(p),s))$
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Preconditions}
    \begin{itemize}
        \item $\textsc{Poss}\left( \textsc{water}(p), s \right) \equiv \textsc{Near}(p,s) \land \textsc{Holding}(x,s) \land \textsc{WateringCan}(x) \land \neg\textsc{Moist}(x,p) \land $ \textbf{Kref}$(\textsc{temperature}(p),s)$
        \item $\textsc{Poss}\left( \textsc{pickup}(x), s \right) \equiv \textsc{Near}(x,s) \land \neg \exists y.\textsc{Holding}(y,s)$
        \item $\textsc{Poss}\left( \textsc{putdown}(x), s \right) \equiv \textsc{Holding}(x,s)$
        \item $\textsc{Poss}\left( \textsc{checkmoisture}(p), s \right) \equiv \textsc{Near}(p,s) \land \textsc{Holding}(x,s) \land \textsc{Moisturemeter}(x)$
    \end{itemize}
\end{frame}

\begin{frame}{Successor State Axioms}
    In general $F(x,\textsc{do}(\alpha,s)) \equiv \Phi_F^+(x,a,s) \lor (F(x,s) \land \neg \Phi_F^-(x,a,s))$
    \vspace*{0.5cm}
    \begin{itemize}
        \item $\textsc{Near}(x,\textsc{do}(\alpha,s)) \equiv \alpha = \textsc{goto}(x)
        \lor \left( \textsc{Near}(x,s) \land \neg \exists
        y.\alpha=\textsc{goto}(y)\right)$
        \item $\textsc{Holding}(x,\textsc{do}(\alpha,s))\equiv \textsc{pickup}(x) \lor \left( Holding(x,s) \land \neg \exists r.\alpha=\textsc{putdown}(x)\right)$
        \item $\textsc{Moist}(p,\textsc{do}(\alpha,s)) \equiv \left( \textsc{Moist}(p,s) \land \neg \exists r.\alpha=\textsc{water}(p) \right) \lor \left( \alpha = \textsc{checkhumidity}(p) \land \textsc{sr}(\alpha(p),s)=h \right)$ 
        \item $\textsc{Temperature}(p,\textsc{do}(\alpha,s)) \equiv \textsc{Temperature}(p,s)$ 
        % \item $\textsc{Infested}(p,\textsc{do}(\alpha,s)) \equiv \left(  \textsc{Infested}(p,s) \land \neg \exists r.\alpha=\textsc{treat}(p) \right) \lor \left( \alpha = \textsc{checkinfestation}(p) \land \textsc{sr}(\alpha(p),s)\right)$
        \item $\textsc{HealthyPlants}(p,\textsc{do}(\alpha,s)) = n \equiv \left( \textsc{HealthyPlants}(p,s) = n-1 \land \alpha = \textsc{water}(p) \right) $
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Initial Situation}
    \begin{itemize}
        \item $\textsc{WateringCan}(c)$
        \item $\textsc{Thermometer}(t)$
        \item $\textsc{Moisturemeter}(m)$
        \item $\textsc{Plant}(p_1)$ \\
        \hspace{0.5cm}\vdots
        \item $\textsc{Plant}(p_n)$
        \item $\textsc{Near}(c)$
    \end{itemize}
\end{frame}

% \subsection{Considerations}

% \begin{frame}{Theorem}
    
% \end{frame}

\subsection{Golog}

\begin{frame}{Encoding}
    \begin{algorithmic}[1]
        \While{$\neg \mathbf{Knows}(\textsc{HealthyPlants}(s) = n)$}
            \textsc{goto}(p)
            Ok
        \EndWhile
    \end{algorithmic}
\end{frame}

\begin{frame}{Example Run}
    
\end{frame}
